# GigHub Environment Variables
# 請複製此檔案為 .env 並填入實際值
# ⚠️ 警告: 不要提交包含真實憑證的 .env 檔案至版本控制

# ============================================
# Firebase Configuration
# ============================================
# 從 Firebase Console 獲取: https://console.firebase.google.com/
FIREBASE_API_KEY=your_firebase_api_key_here
FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
FIREBASE_PROJECT_ID=your_project_id
FIREBASE_STORAGE_BUCKET=your_project_id.firebasestorage.app
FIREBASE_MESSAGING_SENDER_ID=your_messaging_sender_id
FIREBASE_APP_ID=your_firebase_app_id
FIREBASE_MEASUREMENT_ID=your_measurement_id

# ============================================
# Supabase Configuration (Frontend)
# ============================================
# 從 Supabase Dashboard 獲取: https://supabase.com/dashboard/project/_/settings/api

# Supabase Project URL
NG_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous Key (公開金鑰，受 RLS 保護)
NG_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ⚠️ 以下為後端專用金鑰，絕不要在前端使用或暴露
# ============================================
# Supabase Configuration (Backend Only)
# ============================================

# Service Role Key (跳過 RLS，僅用於管理腳本)
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# JWT Secret (用於驗證 JWT Token)
SUPABASE_JWT_SECRET=your_jwt_secret_here

# PostgreSQL Direct Connection (用於資料庫遷移與管理)
POSTGRES_HOST=db.your-project-id.supabase.co
POSTGRES_DATABASE=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_URL=postgres://postgres.your-project-id:password@aws-region.pooler.supabase.com:6543/postgres
POSTGRES_URL_NON_POOLING=postgres://postgres.your-project-id:password@aws-region.pooler.supabase.com:5432/postgres

# ============================================
# Feature Flags
# ============================================

# 是否啟用 Supabase (預設: true)
NG_APP_ENABLE_SUPABASE=true

# 是否啟用雙寫模式 (同時寫入 Firestore 與 Supabase，用於遷移階段)
NG_APP_ENABLE_DUAL_WRITE=false

# 資料來源優先順序 (firestore | supabase)
NG_APP_PRIMARY_DATASOURCE=supabase

# ============================================
# Monitoring & Logging
# ============================================

# 是否啟用詳細日誌
NG_APP_ENABLE_VERBOSE_LOGGING=false

# 是否啟用 Supabase 健康檢查
NG_APP_ENABLE_HEALTH_CHECK=true

# 健康檢查間隔 (毫秒)
NG_APP_HEALTH_CHECK_INTERVAL=30000

# ============================================
# Error Tracking (Optional)
# ============================================

# Sentry DSN
NG_APP_SENTRY_DSN=your_sentry_dsn_here

# ============================================
# Development Settings
# ============================================

# 是否為生產環境
NG_APP_PRODUCTION=false

# API Base URL
NG_APP_API_BASE_URL=./

# 是否使用 Hash 路由
NG_APP_USE_HASH=true

# ============================================
# 安全性最佳實踐提示
# ============================================
#
# 1. 環境隔離
#    - 為每個環境使用獨立的 Supabase 專案
#    - 開發/測試/生產環境不共用憑證
#
# 2. 金鑰管理
#    - 前端只使用 Anon Key (受 RLS 保護)
#    - Service Role Key 僅用於後端腳本
#    - 定期輪替所有金鑰 (建議每 90 天)
#
# 3. RLS 強制執行
#    - 所有表格必須啟用 RLS
#    - 預設拒絕所有存取
#    - 明確定義每個角色的權限
#
# 4. CI/CD 整合
#    - 使用 GitHub Secrets 儲存敏感金鑰
#    - 不要在 CI 日誌中列印憑證
#
# 5. 監控與告警
#    - 監控異常查詢模式
#    - 設定 API 使用量告警
#    - 追蹤 RLS 違規嘗試
#
# ============================================


