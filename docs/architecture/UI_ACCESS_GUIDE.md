# UI 存取指南：模組管理器與系統監控

> **文件版本**: v1.0  
> **建立日期**: 2025-12-21  
> **用途**: 指引使用者如何在 UI 中存取重構後的功能

---

## 📍 功能位置總覽

### 1. 模組管理器 (Module Manager)

**位置**: 藍圖詳情頁 → 「模組管理」Tab

**存取路徑**:
```
側邊欄 → 我的藍圖 → 選擇一個藍圖 → 模組管理 Tab
```

**URL 格式**:
```
/blueprints/user/:blueprintId (進入藍圖詳情)
→ 點擊「模組管理」Tab
```

**功能說明**:
- 查看藍圖已啟用的模組
- 啟用/停用模組
- 配置模組設定
- 查看模組依賴關係
- 管理模組狀態

**使用者體驗**:
1. 進入任何藍圖的詳情頁
2. 在 Tab 列表中找到「模組管理」
3. 點擊即可管理該藍圖的所有模組
4. 所有操作都在藍圖上下文內進行

---

### 2. 系統監控 (Admin Monitoring)

**位置**: 側邊欄 → 「系統管理」群組 → 「系統監控」

**存取路徑**:
```
側邊欄 (最下方) → 系統管理 → 系統監控
```

**URL 格式**:
```
/admin/monitoring
```

**功能說明**:
- Performance Monitoring (效能監控)
- Error Tracking (錯誤追蹤)
- System Health Dashboard (系統健康儀表板)
- Real-time Metrics (即時指標)

**使用者體驗**:
1. 在側邊欄最下方找到「系統管理」群組
2. 點擊「系統監控」進入監控儀表板
3. 查看系統效能和錯誤追蹤資訊

**權限要求**:
- 建議只有系統管理員可存取
- 未來可增加 `systemAdminGuard` 限制存取

---

## 🎨 UI 視覺位置

### 模組管理器

```
┌─────────────────────────────────────────────────┐
│ 藍圖詳情頁                                       │
├─────────────────────────────────────────────────┤
│ 概覽 | 任務 | 施工日誌 | 成員 | [模組管理] ← 這裡 │
├─────────────────────────────────────────────────┤
│                                                 │
│  模組管理器內容                                  │
│  - 啟用的模組列表                                │
│  - 模組狀態卡片                                  │
│  - 配置按鈕                                      │
│  - 依賴關係圖                                    │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 系統監控

```
側邊欄選單 (Sidebar Menu):

┌──────────────────┐
│ 主導航            │
│  - 儀錶盤         │
│  - 我的藍圖       │
│  - 個人設定       │
│  - 探索           │
│  - AI 助理        │
├──────────────────┤
│ 系統管理 ← 新增   │
│  - 系統監控 ← 這裡 │
└──────────────────┘
```

---

## 📋 快速存取指南

### 使用者角色對應

| 角色 | 模組管理器 | 系統監控 |
|------|-----------|---------|
| **一般使用者** | ✅ 可在自己的藍圖中存取 | ⚠️ 建議限制 |
| **藍圖擁有者** | ✅ 可在自己的藍圖中存取 | ⚠️ 建議限制 |
| **組織管理員** | ✅ 可在組織藍圖中存取 | ✅ 推薦開放 |
| **系統管理員** | ✅ 全部藍圖 | ✅ 完全存取 |

---

## 🔄 向後相容性

### 舊 URL 自動重定向

**模組管理器**:
```
❌ 舊 URL: /module-manager/:id (已移除)
✅ 新方式: 進入 /blueprints/user/:id 後點擊「模組管理」Tab
```

**系統監控**:
```
❌ 舊 URL: /monitoring
✅ 新 URL: /admin/monitoring (自動重定向)
```

---

## 💡 設計理念

### 為什麼這樣設計？

#### 模組管理器整合到藍圖

**原因**:
1. **高內聚性**: 模組管理是藍圖的核心功能之一
2. **使用者體驗**: 不用離開藍圖去管理藍圖的模組
3. **權限邊界**: 自動繼承藍圖的權限控制
4. **上下文清晰**: 始終知道在管理哪個藍圖的模組

**優點**:
- ✅ 一站式藍圖管理體驗
- ✅ 減少頁面跳轉
- ✅ 權限控制更簡單
- ✅ 避免 blueprintId 傳遞錯誤

#### 監控獨立為系統管理

**原因**:
1. **低耦合性**: 系統監控不屬於任何特定藍圖
2. **可擴展性**: 未來可在此增加更多系統管理功能
3. **權限分離**: 系統管理功能應該與業務功能分開
4. **全域視角**: 監控需要從整體系統角度查看

**未來擴展**:
```
/admin/monitoring   - 系統監控 (已實作)
/admin/users        - 使用者管理 (規劃中)
/admin/settings     - 系統設定 (規劃中)
/admin/logs         - 系統日誌 (規劃中)
/admin/analytics    - 系統分析 (規劃中)
```

---

## 🧪 測試建議

### 功能驗證步驟

#### 模組管理器
1. ✅ 登入系統
2. ✅ 進入「我的藍圖」
3. ✅ 點擊任一藍圖進入詳情
4. ✅ 找到「模組管理」Tab
5. ✅ 點擊 Tab 查看模組列表
6. ✅ 測試啟用/停用模組功能
7. ✅ 測試模組配置功能

#### 系統監控
1. ✅ 登入系統
2. ✅ 檢查側邊欄是否有「系統管理」群組
3. ✅ 點擊「系統監控」進入
4. ✅ 確認 URL 為 `/admin/monitoring`
5. ✅ 測試舊 URL `/monitoring` 是否自動重定向
6. ✅ 查看效能監控和錯誤追蹤儀表板

---

## 📸 UI 截圖位置

### 模組管理器預期畫面

**藍圖詳情 Tab 列**:
```
[概覽] [任務] [施工日誌] [成員] [模組管理] [活動日誌] ...
                                    ↑
                                  點這裡
```

**模組管理器內容**:
- 模組狀態卡片網格
- 啟用/停用按鈕
- 配置選項
- 依賴關係視覺化

### 系統監控預期畫面

**側邊欄新增項目**:
```
...
[AI 助理]
──────────
[系統管理]  ← 新群組
  [系統監控] ← 點這裡
```

**監控儀表板內容**:
- Performance Metrics (效能指標)
- Error Tracking Dashboard (錯誤追蹤)
- System Health Indicators (系統健康指標)
- Real-time Logs (即時日誌)

---

## 🚀 下一步

### 建議改進

1. **權限控制** (高優先級)
   - 增加 `systemAdminGuard` 到 `/admin` 路由
   - 只允許系統管理員存取系統監控

2. **UI 增強** (中優先級)
   - 模組管理器增加搜尋和篩選功能
   - 系統監控增加更多視覺化圖表

3. **文檔更新** (低優先級)
   - 更新使用者手冊
   - 錄製操作教學影片

---

## 📚 相關文檔

- [完整架構分析](MONITORING_MODULE_MANAGER_ANALYSIS.md)
- [實施方案參考](MONITORING_MODULE_MANAGER_SOLUTION.md)
- [視覺化架構圖](MONITORING_MODULE_MANAGER_VISUAL_GUIDE.md)
- [執行摘要](MONITORING_MODULE_MANAGER_EXECUTIVE_SUMMARY.md)

---

**文件維護者**: GigHub 開發團隊  
**最後更新**: 2025-12-21  
**版本**: 1.0
